var wmx=function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=88)}({88:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,r){if(!r.url)throw'Required param "options.url" is null or empty or undefined';this._traceUrl=r.url,this._sessionId=r.sessionId,this._preventDefaultHandling=r.preventDefaultHandling||!1,this._hideThirdpartyErrors=r.hideThirdpartyErrors||!1,this._userAgentBlockKeywords=r.userAgentBlockKeywords||[],this._requestUrlFilterRegExps=r.requestUrlFilterRegExps||[],this.ticketId=r.ticketId,this._errorBuffer={},this._window=e,this._window.traceLogger=this,e.console||(e.console={log:function(e){},error:function(e){},trace:function(e){},info:function(e){},debug:function(e){}}),this.setWindowErrorHandler(),this.setConsoleErrorHandler()}return Object.defineProperty(e.prototype,"registeredErrorHashMap",{get:function(){return this._errorBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticketId",{get:function(){return this._ticketId},set:function(e){this._ticketId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRegisterRequestSend",{set:function(e){this._onRegisterRequestSend=e},enumerable:!0,configurable:!0}),e.prototype.registerTrace=function(e){if(!e)throw'Required param "errorObj" is null or empty or undefined';var r="string"==typeof e?e:e.message||e.errorMessage,t=this._window.location.href;this.errorAlreadyProcessed(r,t)||this.sendPostRequest(this._traceUrl,{sessionId:this._sessionId,ticketId:this.ticketId,errorMessage:r,requestUrl:t,sourceUrl:t,userAgent:navigator.userAgent,stackTrace:this.getStackTrace(e),screenInfo:this.formatScreenInfo()})},e.prototype.setWindowErrorHandler=function(){var e=this,r=this._window.onerror;this._window.onerror=function(t,n,o,s,i){if(e._hideThirdpartyErrors&&e.isErrorOccuredInThirdpartyCode(n))return e._preventDefaultHandling;var c=e._window.location.href;return e.errorAlreadyProcessed(t,c)?e._preventDefaultHandling:(e.sendPostRequest(e._traceUrl,{sessionId:e._sessionId,ticketId:e.ticketId,errorMessage:t,requestUrl:c,sourceUrl:n,userAgent:e._window.navigator.userAgent,stackTrace:e.getStackTrace(i),screenInfo:e.formatScreenInfo()}),!!e._preventDefaultHandling||!(!r||"function"!=typeof r)&&r.apply(e._window,arguments))}},e.prototype.setConsoleErrorHandler=function(){var e=this,r=console.error;console.error=function(){var t=1===arguments.length?arguments[0]:Array.prototype.slice.call(arguments).join(" "),n=e._window.location.href;e._hideThirdpartyErrors&&e.isErrorOccuredInThirdpartyCode(n)||(e.errorAlreadyProcessed(t,n)||e.sendPostRequest(e._traceUrl,{sessionId:e._sessionId,ticketId:e.ticketId,errorMessage:t,requestUrl:n,sourceUrl:n,userAgent:e._window.navigator.userAgent,stackTrace:e.getStackTrace(null),screenInfo:e.formatScreenInfo()}),!e._preventDefaultHandling&&r&&"function"==typeof r&&r.apply(console,arguments))}},e.prototype.formatScreenInfo=function(){var e=this._window.screen;return"width: "+e.width+" height: "+e.height+" colorDepth: "+e.colorDepth+" pixelDepth: "+e.pixelDepth},e.prototype.isErrorOccuredInThirdpartyCode=function(e){if(!e)return!1;for(var r=this._requestUrlFilterRegExps,t=0;t<r.length;t++){if(new RegExp(r[t],"i").test(e))return!0}return!1},e.prototype.errorAlreadyProcessed=function(r,t){var n=e.calcHashCode(r+t+this.ticketId);return this._errorBuffer[n]?(this._errorBuffer[n]++,!0):(this._errorBuffer[n]=1,!1)},e.prototype.getStackTrace=function(e){var r;return e&&(r=this.stackTraceFromException(e)),r||((r=this.getStackTraceFromFakeError())||this.getStackTraceFromFuncCaler())},e.prototype.stackTraceFromException=function(e){return e.stack||e.backtrace||e.stacktrace},e.prototype.getStackTraceFromFakeError=function(){try{throw new Error("")}catch(e){return this.stackTraceFromException(e)}},e.prototype.getStackTraceFromFuncCaler=function(){for(var e=/function\s*([\w\-$]+)?\s*\(/i,r="[anonymous]",t=[],n=arguments.callee.caller.caller;n&&t.length<10;){var o=e.test(n.toString())?RegExp.$1||r:r;t.push(o),n=n.caller}return t.join("\n")},e.prototype.isUserAgentContainsBlockKeywords=function(e){if(!this._userAgentBlockKeywords.length||!e)return!1;for(var r=e.toLowerCase(),t=this._userAgentBlockKeywords.map(function(e){return e.toLowerCase()}),n=0;n<t.length;n++)if(-1!==r.indexOf(t[n]))return!0;return!1},e.prototype.sendPostRequest=function(r,t){var n=this;if(!this.isUserAgentContainsBlockKeywords(t.userAgent)){var o=e.createRequestObject();o.open("POST",r),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.setRequestHeader("Accept","application/json, text/plain, */*"),this.setHeaderFromAntiforgeryForm(o),o.onreadystatechange=function(e){4===o.readyState&&n._onRegisterRequestSend&&n._onRegisterRequestSend(n,e)},o.send(JSON.stringify(t))}},e.prototype.setHeaderFromAntiforgeryForm=function(e){var r=this._window.document.getElementById("__AjaxAntiForgeryForm");null!=r&&null!=r.__RequestVerificationToken&&e.setRequestHeader("__RequestVerificationToken",r.__RequestVerificationToken.value)},e.createRequestObject=function(){if("undefined"==typeof XMLHttpRequest){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}return new XMLHttpRequest},e.calcHashCode=function(e){var r=0;if(0===e.length)return r;for(var t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r&=r;return r},e}(),o=window.wmx||{};r.settings=o.settings,r.components={TraceLogger:n}}});